/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/3.5/userguide/java_library_plugin.html
 */

// Apply the java-library plugin to add support for Java Library
	apply plugin: 'java-library'
	apply plugin: 'java'
	apply plugin: 'eclipse'
	apply plugin: 'idea'

// In this section you declare where to find the dependencies of your project
repositories {
    // Use jcenter for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
}
configurations {
   cucumberRuntime {
       extendsFrom testRuntime
   }
}

dependencies {

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
     
   // compile 'org.seleniumhq.selenium:selenium-support:2.45.0'
   // compile 'org.seleniumhq.selenium:selenium-server:2.46.0'
    testCompile 'info.cukes:cucumber-core:1.2.4'
   // testCompile 'info.cukes:cucumber-html:0.2.3'
    testCompile 'info.cukes:cucumber-java:1.2.4'
    testCompile 'info.cukes:cucumber-junit:1.2.4'    
    compile 'org.springframework:spring-context:4.2.1.RELEASE'
    compile 'log4j:log4j:1.2.17'
    compile 'org.apache.commons:commons-lang3:3.0'
    compile 'org.seleniumhq.selenium:selenium-java:3.4.0'
    
   task helloWorld << {
    println("hello world")  
    }
    
   task cucumberGoogle() {
   dependsOn assemble, compileTestJava
   doLast {
       javaexec {
           main = "cucumber.api.cli.Main"
             classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output   //The classpath for executing the main class
             //classpath = configurations.cucumberRuntime      if just this ,just can find until the basic step definition, will not find feature file, and run it          
           args = ['-f', 'pretty', '--glue', 'gradle.cucumber', 'src/test/java/resources/cucumber/baidu.feature','--tags', '@dataTable']   // add arguments to main class to be execute
       }
       

   }
}
    
    
    
    
}


